<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PJT.LUNA Day8 — Responsive Images & Lazy Loading (Enterprise+)</title>
  <meta name="description" content="Day8: Responsive Images with picture/srcset/sizes + Lazy Loading + Lighthouse performance checklist.">
  <link rel="icon" type="image/png" href="./images/favicon-64.png">
  <link rel="preload" as="image" imagesrcset="./images/hero-400.webp 400w, ./images/hero-800.webp 800w, ./images/hero-1200.webp 1200w" imagesizes="(max-width: 600px) 400px, (max-width: 1024px) 800px, 1200px">
  <link rel="stylesheet" href="./styles.css">
</head>
<body class="theme-auto">
  <a class="skip-link" href="#main">본문 바로가기</a>

  <header class="site-header" role="banner">
    <div class="brand">
      <strong>PJT.LUNA</strong>
      <span class="badge">Day8</span>
    </div>
    <nav class="actions" aria-label="전역 동작">
      <button id="themeToggle" class="btn" aria-pressed="false" data-testid="btn-theme">🌗 다크모드</button>
      <select id="langSelect" aria-label="언어 선택" data-testid="select-lang">
        <option value="ko" selected>한국어</option>
        <option value="en">English</option>
      </select>
    </nav>
  </header>

  <main id="main" tabindex="-1">
    <section aria-labelledby="hero-title" class="hero">
      <h1 id="hero-title">반응형 이미지 & 지연 로딩</h1>
      <p class="sub">picture · srcset · sizes · lazy loading · i18n 배너 · skeleton UI</p>

      <!-- Responsive hero with srcset + sizes + webp fallback -->
      <picture>
        <source type="image/webp" srcset="./images/hero-400.webp 400w, ./images/hero-800.webp 800w, ./images/hero-1200.webp 1200w" sizes="(max-width:600px) 400px, (max-width:1024px) 800px, 1200px">
        <img src="./images/hero-800.jpg"
             srcset="./images/hero-400.jpg 400w, ./images/hero-800.jpg 800w, ./images/hero-1200.jpg 1200w"
             sizes="(max-width:600px) 400px, (max-width:1024px) 800px, 1200px"
             alt="다양한 해상도에 맞춰 자동 선택되는 히어로 이미지 데모"
             width="1200" height="675" decoding="async" fetchpriority="high">
      </picture>
    </section>

    <section aria-labelledby="banner-title" class="i18n-banner">
      <h2 id="banner-title">언어별 배너 이미지(i18n)</h2>
      <p class="sub">선택한 언어에 따라 다른 배너 이미지를 picture로 교체합니다.</p>
      <div class="banner-wrapper">
        <picture id="bannerPicture" data-i18n-picture>
          <!-- sources are injected by JS based on language -->
          <img id="bannerImg" src="./images/banner-ko-1200.jpg" alt="프로모션 배너" width="1200" height="400" loading="lazy">
        </picture>
      </div>
      <div class="visually-hidden" aria-live="polite" id="srStatus"></div>
    </section>

    <section aria-labelledby="gallery-title" class="gallery">
      <h2 id="gallery-title">Lazy Loading 갤러리</h2>
      <p class="sub">스크롤할 때만 이미지가 로드됩니다. 로드 전에는 Skeleton UI가 보입니다.</p>
      <ul class="cards" aria-label="갤러리 카드">
        <!-- 9 demo cards -->
        <!-- Each card showcases lazy loading with webp + jpg fallback and skeleton -->
        <!-- Generated by JS for brevity -->
      </ul>
    </section>

    <section aria-labelledby="audit-title" class="audit">
      <h2 id="audit-title">Lighthouse 체크리스트</h2>
      <ul class="checklist">
        <li>차세대 포맷(WebP) 제공 + 적절한 fallback</li>
        <li>srcset/sizes로 올바른 크기 제공</li>
        <li>loading="lazy" 적용 (폴리필/IO fallback)</li>
        <li>이미지 차원(width/height) 명시 → CLS 방지</li>
        <li>prefers-reduced-data 대응 (저해상도 우선)</li>
        <li>i18n 이미지 교체 전략</li>
      </ul>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <small>© PJT.LUNA — Enterprise+ Day8. <a href="./README.md">README</a></small>
  </footer>

  <script src="./script.js" defer></script>
</body>
</html>